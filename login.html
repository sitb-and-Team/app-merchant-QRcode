<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery-3.3.1.js"></script>
    <meta id="viewport" name="viewport"
          content="width=device-width; initial-scale=1.0; maximum-scale=1; user-scalable=no;">
</head>
<body>
<div class="box">
    <p id="codes" class="pp"></p>
    <p id="codess" class="pp"></p>
    <p class="pp">商户收款码：</p>
    <div class="imgs">
        <img id="QRcode" src="" alt="输入商户代码错误">
    </div>
</div>
</body>
<script>
    function getUrlParam(val) {
        var reg = new RegExp("(^|&)" + val + "=([^&]*)(&|$)");//构造一个含有目标参数的正则表达式对象
        console.log(reg);
        var r = window.location.search.substr(1).match(reg);  //匹配目标参数
        console.log(r);
        if (r != null) return decodeURI(r[2]);
        return null; //返回参数值
    }

    var merchantCode = getUrlParam("val");
    var name = getUrlParam("name");
    console.log(name);
    $('#codes').text(function () {
        console.log(merchantCode);
        return "商户代码：" + merchantCode
    });
    $('#codess').text(function () {
        return "商户名称：" + name
    });
    $('#QRcode').attr({
        src: "http://192.168.88.15:8000/qrcode?merchantCode=" + merchantCode,
        style: {display: 'block'}
    });
</script>
</html>